<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Meeco SDK Documentation</title>
	<meta name="description" content="Documentation for Meeco SDK Documentation">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">Meeco SDK Documentation</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>Meeco SDK Documentation</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#meeco-typescript-sdk" id="meeco-typescript-sdk" style="color: inherit; text-decoration: none;">
					<h1>Meeco TypeScript SDK</h1>
				</a>
				<img width="100px" src="https://uploads-ssl.webflow.com/5cd5168c6c861f4fc7cfe969/5ddcaba04d724676d8758927_Meeco-Logo-2019-Circle-RGB.svg">
				<a href="#api-docs" id="api-docs" style="color: inherit; text-decoration: none;">
					<h3>API Docs</h3>
				</a>
				<p>For SDK API Docs (TypeDoc docs) <a href="https://meeco.github.io/sdk-docs/">See Here</a></p>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<pre><code class="language-sh"><span style="color: #000000">$ npm install -S @meeco/sdk</span>
</code></pre>
				<a href="#usage-in-angular" id="usage-in-angular" style="color: inherit; text-decoration: none;">
					<h3>Usage in Angular</h3>
				</a>
				<p>Since Angular 6, the following polyfills are required to be added to your <code>polyfills.ts</code> (in order)</p>
				<pre><code class="language-ts"><span style="color: #008000">// required for bson library</span>
<span style="color: #000000">(</span><span style="color: #001080">window</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #267F99">any</span><span style="color: #000000">).</span><span style="color: #001080">global</span><span style="color: #000000"> = </span><span style="color: #001080">window</span><span style="color: #000000">;</span>
<span style="color: #008000">// Required for JSRP</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">buffer</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;buffer&#039;</span><span style="color: #000000">);</span>
<span style="color: #000000">(</span><span style="color: #001080">window</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #267F99">any</span><span style="color: #000000">).</span><span style="color: #001080">Buffer</span><span style="color: #000000"> = </span><span style="color: #001080">buffer</span><span style="color: #000000">;</span>
<span style="color: #000000">(</span><span style="color: #001080">window</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #267F99">any</span><span style="color: #000000">).</span><span style="color: #001080">process</span><span style="color: #000000"> = {</span>
<span style="color: #000000">  </span><span style="color: #001080">browser:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000">,</span>
<span style="color: #000000">};</span>
</code></pre>
				<p>You will also need to configure your <code>compilerOptions</code> in your <code>tsconfig.base.json</code> as follows:</p>
				<pre><code class="language-json"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #0451A5">&quot;compilerOptions&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">    </span><span style="color: #0451A5">&quot;paths&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">      </span><span style="color: #0451A5">&quot;stream&quot;</span><span style="color: #000000">: [</span><span style="color: #A31515">&quot;./node_modules/readable-stream&quot;</span><span style="color: #000000">]</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">    </span><span style="color: #008000">// ...</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#usage-basics" id="usage-basics" style="color: inherit; text-decoration: none;">
					<h2>Usage Basics</h2>
				</a>
				<p>This is not an exhaustive list of functionality - just some basic use-cases. For full usage <a href="https://meeco.github.io/sdk-docs/">see the API docs</a></p>
				<p>All examples expect you have your environment configured.</p>
				<p>An environment configuration looks something like this:</p>
				<pre><code class="language-js"><span style="color: #008000">// Note this can also be an instance of Environment from `@meeco/sdk` for type safety</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">environment</span><span style="color: #000000"> = {</span>
<span style="color: #000000">  </span><span style="color: #001080">vault:</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;&lt;target vault environment url&gt;&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">subscription_key:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;&lt;your Meeco subscription key</span><span style="color: #CD3131">&gt;</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #001080">keystore</span><span style="color: #000000">: {</span>
<span style="color: #000000">    </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;&lt;target keystore environment url&gt;&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">subscription_key:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;&lt;your Meeco subscription key&gt;&#039;</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#typescript--javascript" id="typescript--javascript" style="color: inherit; text-decoration: none;">
					<h3>TypeScript / JavaScript</h3>
				</a>
				<p>All examples in this Readme use TypeScript. However, JavaScript should also work mostly the same, just replace any <code>import</code> statements with <code>require</code> statements depending on your module system.</p>
				<p>e.g.</p>
				<pre><code class="language-ts"><span style="color: #008000">// TypeScript style imports</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">UserService</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">service</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UserService</span><span style="color: #000000">();</span>
</code></pre>
				<pre><code class="language-js"><span style="color: #008000">// Node/JavaScript style imports</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">Meeco</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">service</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #001080">Meeco</span><span style="color: #000000">.</span><span style="color: #795E26">UserService</span><span style="color: #000000">();</span>

<span style="color: #008000">// or</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">UserService</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">).</span><span style="color: #001080">UserService</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">service</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #001080">Meeco</span><span style="color: #000000">.</span><span style="color: #795E26">UserService</span><span style="color: #000000">();</span>

<span style="color: #008000">// or</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> { </span><span style="color: #0070C1">UserService</span><span style="color: #000000"> } = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">service</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #001080">Meeco</span><span style="color: #000000">.</span><span style="color: #795E26">UserService</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#configuring-fetch" id="configuring-fetch" style="color: inherit; text-decoration: none;">
					<h3>Configuring Fetch</h3>
				</a>
				<p>The library requires a library that conforms to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a>. Many modern browsers have this already but if you intend to support browsers that don&#39;t you will need to provide your own polyfill for it.</p>
				<p>Likewise current LTS NodeJS does not have fetch built-in. We have tested the library to be working with the <a href="https://www.npmjs.com/package/node-fetch"><code>node-fetch</code> polyfill</a></p>
				<p>To configure the fetch library to be used for all library requests calls the <code>configureFetch(fetch)</code> method:</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">configureFetch</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">fetchPolyfill</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;some-fetch-polyfill-library&#039;</span><span style="color: #000000">;</span>

<span style="color: #795E26">configureFetch</span><span style="color: #000000">(</span><span style="color: #001080">fetchPolyfill</span><span style="color: #000000">);</span>

<span style="color: #008000">// Continue to use the Meeco SDK as normal...</span>
</code></pre>
				<a href="#loggers" id="loggers" style="color: inherit; text-decoration: none;">
					<h3>Loggers</h3>
				</a>
				<p>Most services allow a logger to be configured. The default for this is a no-op function (<code>() =&gt; {}</code>). If you would like to log message to the console, you can pass in <code>console.log</code> as the logger. You can pass in any function that takes strings as an argument (for example, if you want to update a progress bar message).</p>
				<p>To log warnings or errors you can pass loggers like so</p>
				<pre><code class="language-javascript"><span style="color: #000000">{</span>
<span style="color: #000000"> error: </span><span style="color: #001080">errorLogFunc</span><span style="color: #000000">,</span>
<span style="color: #000000"> warn: </span><span style="color: #001080">warnLogFunc</span><span style="color: #000000">,</span>
<span style="color: #000000"> log: </span><span style="color: #001080">baseLogFunc</span><span style="color: #000000">,</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>where each of the logging functions takes a string to print.</p>
				<a href="#api-factories" id="api-factories" style="color: inherit; text-decoration: none;">
					<h3>API Factories</h3>
				</a>
				<p>The SDK offers wrappers around the Meeco Vault API SDK and Keystore API SDK. These attach on common required headers for convenience when making requests. To use them, simply call the API factory with your environment configuration. You can then create factory instances by calling the factory with a user&#39;s authentication data and, finally, get the desired Model API off the result:</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">vaultAPIFactory</span><span style="color: #000000">, </span><span style="color: #001080">keystoreAPIFactory</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">vaultFactory</span><span style="color: #000000"> = </span><span style="color: #795E26">vaultAPIFactory</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">keystoreFactory</span><span style="color: #000000"> = </span><span style="color: #795E26">keystoreAPIFactory</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">aliceVault</span><span style="color: #000000"> = </span><span style="color: #795E26">vaultFactory</span><span style="color: #000000">(</span><span style="color: #001080">aliceUser</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">bobKeystore</span><span style="color: #000000"> = </span><span style="color: #795E26">keystoreFactory</span><span style="color: #000000">(</span><span style="color: #001080">bobUser</span><span style="color: #000000">);</span>

<span style="color: #008000">// Get api&#039;s off the factory instance</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">UserApi</span><span style="color: #000000"> = </span><span style="color: #001080">bobKeystore</span><span style="color: #000000">.</span><span style="color: #001080">UserApi</span><span style="color: #000000">;</span>

<span style="color: #008000">// Alternatively, use object destructuring</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> { </span><span style="color: #0070C1">ItemApi</span><span style="color: #000000"> } = </span><span style="color: #001080">aliceVault</span><span style="color: #000000">;</span>
</code></pre>
				<a href="#creating-and-fetching-users" id="creating-and-fetching-users" style="color: inherit; text-decoration: none;">
					<h3>Creating and Fetching Users</h3>
				</a>
				<p>To perform most actions with Meeco we need a User - either an existing one or a new one we create.</p>
				<p>In order to create a user we need a username (requested from the Keystore API), a secret (derived from the username) and a passphrase/password (entered by the user for account creation).</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">UserService</span><span style="color: #000000">, </span><span style="color: #001080">Secrets</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">userService</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UserService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">username</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">userService</span><span style="color: #000000">.</span><span style="color: #795E26">generateUsername</span><span style="color: #000000">();</span>
<span style="color: #008000">// This secret should be returned to the user for safe keeping</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">secret</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Secrets</span><span style="color: #000000">.</span><span style="color: #795E26">generateSecret</span><span style="color: #000000">(</span><span style="color: #001080">username</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">user</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">userService</span><span style="color: #000000">.</span><span style="color: #795E26">create</span><span style="color: #000000">(</span><span style="color: #001080">password</span><span style="color: #000000">, </span><span style="color: #001080">secret</span><span style="color: #000000">);</span>
<span style="color: #008000">// We now have the Meeco user `AuthData` to use for future calls and encryption.</span>
</code></pre>
				<p>In future, if we want to retrieve the user&#39;s <code>AuthData</code> we need them to provide their secret (which contains their username) and the passphrase.</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">UserService</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">userService</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UserService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">user</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">userService</span><span style="color: #000000">.</span><span style="color: #795E26">getAuthData</span><span style="color: #000000">(</span><span style="color: #001080">password</span><span style="color: #000000">, </span><span style="color: #001080">secret</span><span style="color: #000000">);</span>
<span style="color: #008000">// We have logged the user back in again and have the encryption keys we need</span>
</code></pre>
				<a href="#dealing-with-items" id="dealing-with-items" style="color: inherit; text-decoration: none;">
					<h3>Dealing with Items</h3>
				</a>
				<p>Items are typically created from a template (although you can create ones from a blank template as well). We can get a list of the available templates with the <code>TemplateService</code></p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">TemplateService</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">;</span>

<span style="color: #008000">// Using a User we created or logged in with as above</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">templatesService</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">TemplatesService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">, </span><span style="color: #001080">user</span><span style="color: #000000">.</span><span style="color: #001080">vault_access_token</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">availableTemplates</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">templatesService</span><span style="color: #000000">.</span><span style="color: #795E26">listTemplates</span><span style="color: #000000">();</span>

<span style="color: #008000">/**</span>
<span style="color: #008000"> * We now have a list of the available templates.</span>
<span style="color: #008000"> * We can also view more information about one of the templates (such</span>
<span style="color: #008000"> * as the slots that it provides)</span>
<span style="color: #008000"> */</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">templateDetails</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">service</span><span style="color: #000000">.</span><span style="color: #795E26">getTemplate</span><span style="color: #000000">(</span><span style="color: #001080">availableTemplates</span><span style="color: #000000">.</span><span style="color: #001080">item_templates</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">].</span><span style="color: #001080">name</span><span style="color: #000000">);</span>
</code></pre>
				<p>Once we&#39;ve selected a template we can create our first item.</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">ItemService</span><span style="color: #000000">, </span><span style="color: #001080">UserService</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">;</span>
<span style="color: #008000">// Get the user&#039;s Auth Data</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">service</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UserService</span><span style="color: #000000">();</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">authData</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">userService</span><span style="color: #000000">.</span><span style="color: #795E26">getAuthData</span><span style="color: #000000">(</span><span style="color: #001080">password</span><span style="color: #000000">, </span><span style="color: #001080">secret</span><span style="color: #000000">);</span>
<span style="color: #008000">// Create the item</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">service</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">ItemService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">selectedTemplate</span><span style="color: #000000"> = </span><span style="color: #001080">availableTemplates</span><span style="color: #000000">.</span><span style="color: #001080">item_templates</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">];</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">newItem</span><span style="color: #000000"> = </span><span style="color: #001080">NewItem</span><span style="color: #000000">.</span><span style="color: #795E26">fromTemplate</span><span style="color: #000000">(</span><span style="color: #001080">selectedTemplate</span><span style="color: #000000">, </span><span style="color: #001080">selectedTemplate</span><span style="color: #000000">.</span><span style="color: #001080">slots</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;My Car&#039;</span><span style="color: #000000">, [</span>
<span style="color: #000000">  {</span>
<span style="color: #000000">    </span><span style="color: #001080">name:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;make_model&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">value:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;Ford Focus&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  {</span>
<span style="color: #000000">    </span><span style="color: #001080">name:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;year&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">value:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;2017&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">]);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">item</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">service</span><span style="color: #000000">.</span><span style="color: #795E26">create</span><span style="color: #000000">(</span><span style="color: #001080">user</span><span style="color: #000000">.</span><span style="color: #001080">vault_access_token</span><span style="color: #000000">, </span><span style="color: #001080">authData</span><span style="color: #000000">, </span><span style="color: #001080">newItem</span><span style="color: #000000">);</span>
</code></pre>
				<p><code>NewItem</code> is a wrapper class that helps with the staging of a new created Item. It provides helpful commands
				for adding or removing slots and &quot;previewing&quot; the Item.</p>
				<p>We can also fetch a list of a user&#39;s items or get details about a specific item in a manner similar to templates:</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">ItemService</span><span style="color: #000000">, </span><span style="color: #001080">UserService</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">;</span>
<span style="color: #008000">// Get the user&#039;s Auth Data</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">service</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">UserService</span><span style="color: #000000">();</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">authData</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">userService</span><span style="color: #000000">.</span><span style="color: #795E26">getAuthData</span><span style="color: #000000">(</span><span style="color: #001080">password</span><span style="color: #000000">, </span><span style="color: #001080">secret</span><span style="color: #000000">);</span>
<span style="color: #008000">// Get the user&#039;s items</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">service</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">ItemService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">items</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">service</span><span style="color: #000000">.</span><span style="color: #795E26">list</span><span style="color: #000000">(</span><span style="color: #001080">user</span><span style="color: #000000">.</span><span style="color: #001080">vault_access_token</span><span style="color: #000000">);</span>
<span style="color: #008000">// Get more details about a particular item</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">itemDetails</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">service</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">items</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">].</span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #001080">authData</span><span style="color: #000000">);</span>
</code></pre>
				<p>The SDK provides several convenience classes for the various interactions you will have with Items:</p>
				<ul>
					<li><code>NewItem</code>: describe an Item that doesn&#39;t yet exist in the backend (as above)</li>
					<li><code>DecryptedItem</code>: an Item retrieved with ItemService.get, automatically decrypted using user credentials</li>
					<li><code>ItemUpdate</code>: describe an Item update using only its id (i.e. you don&#39;t download the Item first).</li>
				</ul>
				<p>There are two uses for <code>DecryptedItem</code> within the SDK: updating or sharing it.</p>
				<p><code>DecryptedItem</code> is immutable (the API object it represents can be updated though), so an update must create an <code>ItemUpdate</code>:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">decryptedItem</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">ItemService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">).</span><span style="color: #795E26">get</span><span style="color: #000000">(...);</span>

<span style="color: #008000">// you can view item properties as usual</span>
<span style="color: #001080">decryptedItem</span><span style="color: #000000">.</span><span style="color: #001080">name</span><span style="color: #000000">;</span>
<span style="color: #001080">decryptedItem</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">;</span>
<span style="color: #008000">// view the Item as a map of slot names to slots</span>
<span style="color: #001080">decryptedItem</span><span style="color: #000000">.</span><span style="color: #001080">slotsByName</span>
<span style="color: #008000">// view the Item as a map of slot names to slot values</span>
<span style="color: #001080">decryptedItem</span><span style="color: #000000">.</span><span style="color: #001080">values</span><span style="color: #000000">  </span><span style="color: #008000">// e.g. { email: &#039;jim@example.com&#039; }</span>

<span style="color: #008000">// if you need to see the Item as it was sent from the API</span>
<span style="color: #001080">decryptedItem</span><span style="color: #000000">.</span><span style="color: #001080">item</span><span style="color: #000000">;</span>

<span style="color: #008000">// prepare an update</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">update</span><span style="color: #000000"> = </span><span style="color: #001080">decryptedItem</span><span style="color: #000000">.</span><span style="color: #795E26">update</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">label:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;new_label&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">classifications:</span><span style="color: #000000"> </span><span style="color: #001080">nodes</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">slots:</span><span style="color: #000000"> </span><span style="color: #001080">slots</span><span style="color: #000000">, </span><span style="color: #008000">// new values for slots will be merged with existing</span>
<span style="color: #000000">});</span>

<span style="color: #008000">// assign values to the update using a map:</span>
<span style="color: #001080">update</span><span style="color: #000000">.</span><span style="color: #795E26">assignValues</span><span style="color: #000000">({ </span><span style="color: #001080">make_model:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;BMW&#039;</span><span style="color: #000000"> }) </span><span style="color: #008000">// instead of { name: &#039;make_model&#039;, value: &#039;BMW&#039; }</span>

<span style="color: #008000">// delete slots from the update by name</span>
<span style="color: #008000">// (delete slots in the API item using ItemService.removeSlot)</span>
<span style="color: #001080">update</span><span style="color: #000000">.</span><span style="color: #795E26">removeSlot</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;make_model&#039;</span><span style="color: #000000">);</span>

<span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">ItemService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">).</span><span style="color: #795E26">update</span><span style="color: #000000">(</span><span style="color: #001080">credentials</span><span style="color: #000000">, </span><span style="color: #001080">update</span><span style="color: #000000">);</span>
</code></pre>
				<p>To share</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">item</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">ItemService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">).</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">credentials</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;item_id&#039;</span><span style="color: #000000">);</span>
<span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">ShareService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">).</span><span style="color: #795E26">share</span><span style="color: #000000">(</span><span style="color: #001080">credentials</span><span style="color: #000000">, </span><span style="color: #001080">item</span><span style="color: #000000">);</span>
</code></pre>
				<p>As you can see, the SDK handles all encryption/decryption in the background.
				If you would like to manage that yourself, you can easily access the base API method via ItemService:</p>
				<pre><code class="language-typescript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">itemAPI</span><span style="color: #000000">: </span><span style="color: #267F99">Meeco</span><span style="color: #000000">.</span><span style="color: #267F99">ItemAPI</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">ItemService</span><span style="color: #000000">(...).</span><span style="color: #795E26">getAPI</span><span style="color: #000000">(...);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">encryptedItem</span><span style="color: #000000"> = </span><span style="color: #001080">api</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">id</span><span style="color: #000000">);</span>
<span style="color: #008000">// ... do some client-side encryption modification</span>
<span style="color: #001080">api</span><span style="color: #000000">.</span><span style="color: #795E26">post</span><span style="color: #000000">(</span><span style="color: #001080">itemJSON</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#connecting-users-and-sharing-data" id="connecting-users-and-sharing-data" style="color: inherit; text-decoration: none;">
					<h3>Connecting Users and Sharing Data</h3>
				</a>
				<p>A big part of Meeco is securely sharing data. In order to share data the users sharing the data must first be Connected.</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">InvitationService</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">invitationService</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">InvitationService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">);</span>

<span style="color: #008000">// Alice&#039;s Interaction, sending a connection invitation to Bob</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">invitation</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">invitationService</span><span style="color: #000000">.</span><span style="color: #795E26">create</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Bob&#039;</span><span style="color: #000000">, </span><span style="color: #001080">aliceUser</span><span style="color: #000000">);</span>
<span style="color: #008000">// It is up to Alice to share `invitation.token` with Bob so he can accept it (e.g. via Email or SMS)</span>

<span style="color: #008000">// Bob&#039;s interaction - accepting the invitation (providing the token he got from Alice)</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">connection</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">invitationService</span><span style="color: #000000">.</span><span style="color: #795E26">accept</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Alice&#039;</span><span style="color: #000000">, </span><span style="color: #001080">invitationToken</span><span style="color: #000000">, </span><span style="color: #001080">bobUser</span><span style="color: #000000">);</span>
</code></pre>
				<p>Alice and Bob are now connected and can share data. Let&#39;s share one of Alice&#39;s items with Bob.</p>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">ShareService</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;@meeco/sdk&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">shareService</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">ShareService</span><span style="color: #000000">(</span><span style="color: #001080">environment</span><span style="color: #000000">);</span>

<span style="color: #008000">/**</span>
<span style="color: #008000"> * Assuming we have connectionWithBob from ConnectionService.listConnections</span>
<span style="color: #008000"> * and an aliceItem from ItemService.list</span>
<span style="color: #008000"> */</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">share</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">shareService</span><span style="color: #000000">.</span><span style="color: #795E26">shareItem</span><span style="color: #000000">(</span><span style="color: #001080">alice</span><span style="color: #000000">, </span><span style="color: #001080">connetionWithBob</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #001080">aliceItem</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">);</span>

<span style="color: #008000">// Bob should now be able to fetch this item</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">item</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">shareService</span><span style="color: #000000">.</span><span style="color: #795E26">getSharedItem</span><span style="color: #000000">(</span><span style="color: #001080">bob</span><span style="color: #000000">, </span><span style="color: #001080">sharedItem</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#sdk-development" id="sdk-development" style="color: inherit; text-decoration: none;">
					<h2>SDK Development</h2>
				</a>
				<a href="#generating-documentation" id="generating-documentation" style="color: inherit; text-decoration: none;">
					<h3>Generating Documentation</h3>
				</a>
				<p><code>npm run docs</code> to run TypeDoc. <em>Note</em> at time of writing we use the &quot;library&quot; <code>mode</code> for typedoc which requires the beta version (<code>npm i typedoc@next</code>)</p>
				<a href="#running-the-demo" id="running-the-demo" style="color: inherit; text-decoration: none;">
					<h3>Running the demo</h3>
				</a>
				<p>There is a sample website that uses cryppo to perform various functions.</p>
				<ol>
					<li>Bootstrap the root project (<code>npm run bootstrap</code> in project root)</li>
					<li><code>npm run demo</code></li>
					<li>Visit <code>http://localhost:1234</code></li>
				</ol>
				<p>Note environment settings are saved to local storage for convenience</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/authdata.html" class="tsd-kind-icon">Auth<wbr>Data</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/connectionservice.html" class="tsd-kind-icon">Connection<wbr>Service</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/delegationservice.html" class="tsd-kind-icon">Delegation<wbr>Service</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/environment.html" class="tsd-kind-icon">Environment</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/invitationservice.html" class="tsd-kind-icon">Invitation<wbr>Service</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/itemservice.html" class="tsd-kind-icon">Item<wbr>Service</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/secrets.html" class="tsd-kind-icon">Secrets</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/userservice.html" class="tsd-kind-icon">User<wbr>Service</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>